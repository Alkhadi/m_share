<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>M Share • Profile</title>
  <meta name="description" content="Alkhadi Koroma — dynamic profile card with active links, banking, wellbeing.">
  <meta name="color-scheme" content="dark light">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="site-header">
  <div class="container navbar">
    <a class="brand" id="brandLink" href="index.html"><span class="logo">M</span> M Share</a>
    <nav class="main-nav" id="mainNav" aria-label="Primary">
      <a data-href="index.html">Profile</a>
      <a data-href="bank.html">Money</a>
      <a data-href="wellbeing.html">Wellbeing</a>
      <a data-href="pdf.html">PDF</a>
      <button id="shareOpen" class="btn" type="button" title="Share"><span class="icon">🔗</span> Share</button>
    </nav>
    <button id="navToggle" class="nav-toggle" aria-label="Menu">☰</button>
  </div>
</header>

<main class="container">
  <div class="card">
    <div class="profile-top">
      <img id="avatar" class="avatar" alt="Avatar">
      <div>
        <h1 id="name">Alkhadi Koroma</h1>
        <div class="muted" id="title">M Share • Digital Profile</div>
        <div class="actions">
          <a class="btn btn-primary" id="toPdf">⬇️ Download Profile (PDF)</a>
          <a class="btn btn-success" id="toBank">💷 Send/Receive Money</a>
          <a class="btn" id="toWellbeing">💡 Wellbeing</a>
          <button class="btn" id="shareOpen2" type="button">🔗 Share</button>
        </div>
      </div>
    </div>

    <hr class="sep">

    <!-- Editable Wellbeing link tile (exact look/feel of bank tiles) placed ABOVE AC number -->
    <div class="grid" id="contactGrid">
      <div class="tile"><label>Phone</label><div class="val"><a id="07713150495" href="#">—</a></div></div>
      <div class="tile"><label>Email</label><div class="val"><a id="emailA" href="#">—</a></div></div>
      <div class="tile"><label>Website</label><div class="val"><a id="siteA" href="#">—</a></div></div>
      <div class="tile"><label>Address</label><div class="val" id="addr">—</div></div>

      <!-- New Wellbeing link tile -->
      <div class="tile" style="grid-column: 1/-1;">
        <label>Wellbeing link</label>
        <div class="val"><a id="wbA" target="_blank" rel="noopener">—</a></div>
      </div>

      <div class="tile"><label>AC Number</label><div class="val" id="acc">—</div></div>
      <div class="tile"><label>Sort code</label><div class="val" id="sort">—</div></div>
      <div class="tile"><label>IBAN</label><div class="val" id="iban">—</div></div>
      <div class="tile"><label>Reference</label><div class="val" id="ref">M SHARE</div></div>
    </div>

    <div style="margin-top:12px">
      <span class="badge"><a id="xA"  target="_blank" rel="noopener">X</a></span>
      <span class="badge"><a id="igA" target="_blank" rel="noopener">Instagram</a></span>
      <span class="badge"><a id="ytA" target="_blank" rel="noopener">YouTube</a></span>
      <span class="badge"><a id="lnA" target="_blank" rel="noopener">LinkedIn</a></span>
    </div>
  </div>

  <div class="footer muted">Tip: All values can be passed via URL params (?n=...&ph=... etc). Installable PWA.</div>
</main>

<!-- Share sheet (bottom) -->
<div id="shareSheet" class="sheet hidden">
  <div id="shareBackdrop" class="sheet" style="position:absolute; inset:0;"></div>
  <div class="sheet-card" role="dialog" aria-modal="true" aria-labelledby="shareTitle">
    <div class="sheet-head">
      <h2 id="shareTitle" class="sheet-title">Share profile</h2>
      <button id="shareClose" class="sheet-close" aria-label="Close">×</button>
    </div>
    <textarea id="shareText" class="share-text" readonly></textarea>
    <div class="share-actions">
      <button class="btn" id="copyShare">📋 Copy</button>
      <button class="btn" id="shareNative">🔗 Share…</button>
      <button class="btn" id="savePng">🖼️ Save PNG</button>
      <button class="btn" id="sharePng">📤 Share PNG</button>
      <button class="btn" id="shareWA">🟢 WhatsApp</button>
      <button class="btn" id="shareSMS">💬 SMS</button>
      <button class="btn" id="shareMAIL">✉️ Email</button>
    </div>
  </div>
</div>

<script src="app.js"></script>
<script>
  // allow both header Share buttons to open sheet
  document.getElementById('shareOpen2').addEventListener('click', () => {
    document.getElementById('shareOpen').click();
  });
  // Register service worker (optional; ignore errors)
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js').catch(() => {});
  }
</script>
</body>
</html>